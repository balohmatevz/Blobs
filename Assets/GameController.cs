using UnityEngine;
using System.Collections;
using System.IO;

public class GameController : MonoBehaviour
{
    public GameObject TerrainPivot;
    public GameObject PF_BOX;
    public GameObject PF_CLAW;
    public GameObject PF_PLANK_RED;
    public GameObject PF_PLANK_BLUE;
    public GameObject PF_DOOR_RED;
    public GameObject PF_DOOR_BLUE;
    public GameObject PF_TEXT;
    public GameObject PF_TERRAIN;
    public GameObject PF_BACKGROUND;
    public GameObject PF_LEVEL_END;

    public GameObject TerrainLoad;

    // Use this for initialization
    void Start()
    {
        Settings.LoadSettings();
        //CreateSave();
        //SpawnLevel();
        Player.p.Audio_Fall.volume = Settings.VolumeSound;
        Player.p.Audio_Jump.volume = Settings.VolumeSound;
        Player.p.Audio_Step.volume = Settings.VolumeSound;
        Player.p.Audio_Transform.volume = Settings.VolumeSound;
        Player.p.Audio_Music.volume = Settings.VolumeMusic;
        Player.p.PlayerName = Settings.PlayerName;

        if (Settings.mapid == 0)
        {
            SpawnLevel("ID!0|BOX!-2.327!0.5030003!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-2.402!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-2.258!2.493!0!0!0!0!1!1!1!0.8897059!0.5364403!0.5364403!0.5126327!0.4879434!0.6985294|BOX!-2.226!3.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.557!1.502!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-2.625!4.486!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.45!2.493!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-4.641!2.681!0!0!0!307.0319!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.288!3.49!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-6.5!1.531!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-4.76!1.502!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-4.68!0.5030003!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-5.9!0.5030003!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-7.08!0.5210001!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-5.608!2.324!0!0!0!37.23653!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-6.93!2.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-7.17!3.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-7.58!1.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-8.15!0.5110002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-9.269!0.5040002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-10.357!0.5040002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-8.842!1.505!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-9.893!1.498!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-9.661!2.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-8.602!2.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-9.487!3.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-8.349!3.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-7.902!4.498!0!0!0!4.518214!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-10.64!3.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-10.82!2.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-11.05!1.498!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-11.51!0.5040002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-12.68!0.5040002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-12.22!1.498!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-11.99!2.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-11.81!3.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.476!0.5030003!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-4.372!3.675!0!0!0!343.5968!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.661!4.564!0!0!0!355.1928!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-6.055!3.268!0!0!0!28.85226!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-5.386!4.075!0!0!0!343.8689!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-4.607!4.914!0!0!0!350.0614!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.497!5.552!0!0!0!354.3332!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!26.73!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!27.82!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!28.93!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!30.01!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!29.43!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!29.82!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!43.49!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!43.1!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!42.27!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!41.19!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!40.08!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!38.99!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!44.29!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!43.448!0.5150001!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!44.522!0.5150001!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!45.58!0.5070002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!48.51109!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!49.54!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!50.63!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!51.72!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!55.86!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!56.94!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!60.72!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!61.8!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!65.32!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!69.17!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!72.56!0.5070002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!73.71!0.5070002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!74.75!0.5070002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!75.94!0.5070002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!72.36!1.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!72.53!2.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!72.27!3.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!72.23!4.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!73.42!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!74.53!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!73.64!2.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!75.6!1.531!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!73.34!3.481!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!73.31!4.481!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!74.44!3.481!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!74.73!2.521!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!74.37!4.481!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!75.8!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!76.01!3.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!76.38!4.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!75.34!4.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!76.86!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!76.91!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!76.9!2.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!77.03!3.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!89.8!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!90.84!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!88.72!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!89.8!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!88.74001!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!88.73!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!102.34!3.493!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!90.84!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!101.4!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!102.48!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!101.32!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!101.3!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!101.27!3.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!102.38!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!102.37!2.492!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!103.36!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!104.45!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!103.45!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!115.49!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!114.45!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!113.37!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!114.45!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!113.39!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!113.38!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!127.2!2.492!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!126.1!3.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!127.31!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!126.23!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!128.19!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!127.21!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!129.28!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!127.17!3.493!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!128.28!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!126.13!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!126.15!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|PLANK_RED!121.37!3.441!0!0!0!0!1!1!1!5.460342|PLANK_BLUE!96.77!3.441!0!0!0!0!1!1!1!5.460342|DOOR_RED!137.84!1.891!0!0!0!0!1!1!1|DOOR_BLUE!141.58!1.891!0!0!0!0!1!1!1|DOOR_BLUE!149.23!1.891!0!0!0!0!1!1!1|DOOR_RED!145.49!1.891!0!0!0!0!1!1!1|DOOR_RED!153.1!1.891!0!0!0!0!1!1!1|DOOR_BLUE!156.84!1.891!0!0!0!0!1!1!1|BOX!164.16!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!165.21!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!166.28!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!167.42!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!168.51!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!169.76!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!170.9!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!172.17!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!173.22!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!172.76!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!171.49!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!170.35!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!169.1!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!168.01!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!166.87!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!168.6!2.497!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!169.85!2.497!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!170.99!2.497!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!172.26!2.497!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!185.97!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!197.89!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|PLANK_RED!179.11!3.441!0!0!0!0!1!1!1!5.460342|PLANK_BLUE!190.76!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!202.67!3.441!0!0!0!0!1!1!1!5.460342|PLANK_BLUE!217.61!1.81!0!0!0!0!1!1!1!5.460342|PLANK_RED!224.54!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!232.47!3.441!0!0!0!0!1!1!1!5.460342|PLANK_BLUE!240.18!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!247.41!3.441!0!0!0!0!1!1!1!5.460342|PLANK_BLUE!254.12!3.441!0!0!0!0!1!1!1!5.460342|PLANK_BLUE!260.76!3.441!0!0!0!0!1!1!1!5.460342|DOOR_RED!184.2!5.45!0!0!0!0!1!1!1|DOOR_BLUE!196.11!5.49!0!0!0!0!1!1!1|TERRAIN!184.19!1.793!-1!0!0!0!2.341964!3.605462!1!0.5569741!0.7058823!0.4982699|TERRAIN!196.12!1.793!-1!0!0!0!2.341964!3.605462!1!1!1!1|TERRAIN!207.79!1.793!-1!0!0!0!2.341964!3.605462!1!1!1!1|TERRAIN!266.61!1.793!-1!0!0!0!2.341964!3.605462!1!1!1!1|TERRAIN!313.67!6.201!-1!0!0!0!69.91353!9.493447!1!1!1!1|BACKGROUND!278.17!0.7810001!3!0!0!0!1.138261!1.578845!1!1!1!1|BACKGROUND!278.37!0.7210002!2.9!0!0!0!0.7453932!1.453262!1!0!0!0|TERRAIN!278.17!6.201!3!0!0!0!1.138261!9.500402!1!1!1!1|BACKGROUND!313.65!0.8410001!-1!0!0!0!69.98606!1.693015!1!1!1!1|LEVEL_END!279.43!0.54!0!0!0!0!1!1!1|TEXT!-0.044!5.618!0!0!0!0!0.1!0.1!1!A / D to move|TEXT!26.28!5.618!0!0!0!0!0.1!0.1!1!Space to jump|TEXT!114.35!6.881!0!0!0!0!0.1!0.1!1!CTRL to shapeshift");
        }
        else
        {
            SpawnLevel(Settings.mapList[Settings.mapid]);
        }
    }

    // Update is called once per frame
    void Update()
    {

    }

    //string level = "ID!0|BOX!-2.327!0.5030003!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-2.402!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-2.258!2.493!0!0!0!0!1!1!1!0.8897059!0.5364403!0.5364403!0.5126327!0.4879434!0.6985294|BOX!-2.226!3.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.557!1.502!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-2.625!4.486!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.45!2.493!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-4.641!2.681!0!0!0!307.0319!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.288!3.49!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-6.5!1.531!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-4.76!1.502!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-4.68!0.5030003!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-5.9!0.5030003!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-7.08!0.5210001!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-5.608!2.324!0!0!0!37.23653!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-6.93!2.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-7.17!3.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-7.58!1.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-8.15!0.5110002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-9.269!0.5040002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-10.357!0.5040002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-8.842!1.505!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-9.893!1.498!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-9.661!2.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-8.602!2.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-9.487!3.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-8.349!3.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-7.902!4.498!0!0!0!4.518214!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-10.64!3.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-10.82!2.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-11.05!1.498!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-11.51!0.5040002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-12.68!0.5040002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-12.22!1.498!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-11.99!2.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-11.81!3.506!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.476!0.5030003!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-4.372!3.675!0!0!0!343.5968!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.661!4.564!0!0!0!355.1928!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-6.055!3.268!0!0!0!28.85226!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-5.386!4.075!0!0!0!343.8689!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-4.607!4.914!0!0!0!350.0614!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!-3.497!5.552!0!0!0!354.3332!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!26.73!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!27.82!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!28.93!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!30.01!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!29.43!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!29.82!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!43.49!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!43.1!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!42.27!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!41.19!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!40.08!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!38.99!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!44.29!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!43.448!0.5150001!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!44.522!0.5150001!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!45.58!0.5070002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!48.51109!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!49.54!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!50.63!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!51.72!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!55.86!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!56.94!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!60.72!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!61.8!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!65.32!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|CLAW!69.17!4.601!-5!0!0!0!1!1!1!0.3823529!0.3823529!0.3823529!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!72.56!0.5070002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!73.71!0.5070002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!74.75!0.5070002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!75.94!0.5070002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!72.36!1.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!72.53!2.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!72.27!3.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!72.23!4.541!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!73.42!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!74.53!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!73.64!2.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!75.6!1.531!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!73.34!3.481!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!73.31!4.481!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!74.44!3.481!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!74.73!2.521!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!74.37!4.481!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!75.8!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!76.01!3.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!76.38!4.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!75.34!4.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!76.86!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!76.91!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!76.9!2.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!77.03!3.491!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!89.8!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!90.84!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!88.72!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!89.8!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!88.74001!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!88.73!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!102.34!3.493!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!90.84!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!101.4!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!102.48!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!101.32!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!101.3!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!101.27!3.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!102.38!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!102.37!2.492!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!103.36!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!104.45!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!103.45!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!115.49!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!114.45!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!113.37!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!114.45!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!113.39!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!113.38!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!127.2!2.492!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!126.1!3.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!127.31!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!126.23!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!128.19!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!127.21!1.501!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!129.28!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!127.17!3.493!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!128.28!0.5010002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!126.13!2.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!126.15!1.511!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|PLANK_RED!121.37!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!96.77!3.441!0!0!0!0!1!1!1!5.460342|DOOR_RED!137.84!1.891!0!0!0!0!1!1!1|DOOR_BLUE!141.58!1.891!0!0!0!0!1!1!1|DOOR_BLUE!149.23!1.891!0!0!0!0!1!1!1|DOOR_RED!145.49!1.891!0!0!0!0!1!1!1|DOOR_RED!153.1!1.891!0!0!0!0!1!1!1|DOOR_BLUE!156.84!1.891!0!0!0!0!1!1!1|BOX!164.16!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!165.21!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!166.28!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!167.42!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!168.51!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!169.76!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!170.9!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!172.17!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!173.22!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!172.76!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!171.49!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!170.35!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!169.1!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!168.01!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!166.87!1.495!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!168.6!2.497!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!169.85!2.497!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!170.99!2.497!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!172.26!2.497!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!185.97!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!197.89!0.4910002!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|PLANK_RED!179.11!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!190.76!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!202.67!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!217.61!1.81!0!0!0!0!1!1!1!5.460342|PLANK_RED!224.54!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!232.47!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!240.18!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!247.41!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!254.12!3.441!0!0!0!0!1!1!1!5.460342|PLANK_RED!260.76!3.441!0!0!0!0!1!1!1!5.460342|DOOR_RED!184.2!5.45!0!0!0!0!1!1!1|DOOR_BLUE!196.11!5.49!0!0!0!0!1!1!1|TERRAIN!184.19!1.793!-1!0!0!0!2.341964!3.605462!1!0.5569741!0.7058823!0.4982699|TERRAIN!196.12!1.793!-1!0!0!0!2.341964!3.605462!1!1!1!1|TERRAIN!207.79!1.793!-1!0!0!0!2.341964!3.605462!1!1!1!1|TERRAIN!266.61!1.793!-1!0!0!0!2.341964!3.605462!1!1!1!1|TERRAIN!313.67!6.201!-1!0!0!0!69.91353!9.493447!1!1!1!1|BACKGROUND!278.17!0.7810001!3!0!0!0!1.138261!1.578845!1!1!1!1|BACKGROUND!278.37!0.7210002!2.9!0!0!0!0.7453932!1.453262!1!0!0!0|TERRAIN!278.17!6.201!3!0!0!0!1.138261!9.500402!1!1!1!1|BACKGROUND!313.65!0.8410001!-1!0!0!0!69.98606!1.693015!1!1!1!1|LEVEL_END!279.43!0.54!0!0!0!0!1!1!1|TEXT!-0.044!5.618!0!0!0!0!0.1!0.1!1!A / D to move|TEXT!26.28!5.618!0!0!0!0!0.1!0.1!1!Space to jump|TEXT!114.35!6.881!0!0!0!0!0.1!0.1!1!E to shapeshift";
    //string level = "BOX!0.2325577!0.8889074!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|BOX!1.395349!0.8889074!0!0!0!0!1!1!1!0.625!0.625!0.625!0.8970588!0.8970588!0.8970588|PLANK_RED!4.651163!4.558158!0!0!0!0!1!1!1!5.460342|PLANK_BLUE!1.498708!2.542654!0!0!0!0!1!1!1!5.460342|DOOR_RED!4.470284!1.922499!0!0!0!0!1!1!1|BACKGROUND!7.338502!0.5788298!0!0!0!0!1!1!1!1!1!1|LEVEL_END!7.312662!1.689941!0!0!0!0!1!1!1";











    // "BOX!4!0!0!0!0!0!1!1!1|CLAW!5!0!0!0!0!0!1!1!1|PLANK_RED!10!0!0!0!0!0!1!1!1!5.460342|PLANK_BLUE!20!0!0!0!0!0!1!1!1!2.460342|DOOR_BLUE!13!0!0!0!0!0!1!1!1|DOOR_RED!16!0!0!0!0!0!1!1!1|TEXT!20!5.5!0!0!0!0!0.1!0.1!1!Butts|TERRAIN!30!5.5!0!0!0!0!4!6!1|LEVEL_END!3!5.5!0!0!0!0!1!1!1";


    public void CreateSave()
    {
        string SaveString = "";
        foreach (Transform tr in TerrainLoad.transform)
        {
            GameObject go = tr.gameObject;
            string SavePart = "";
            Vector3 p = go.transform.localPosition;
            Vector3 r = go.transform.localRotation.eulerAngles;
            Vector3 s = go.transform.localScale;
            switch (go.name)
            {
                case "Box":
                    GameObject go_box_light = go.transform.FindChild("Box Light").gameObject;
                    SpriteRenderer sr_outer = go.GetComponent<SpriteRenderer>();
                    SpriteRenderer sr_inner = go_box_light.GetComponent<SpriteRenderer>();
                    SavePart = "BOX!" + p.x + "!" + p.y + "!" + p.z + "!" + r.x + "!" + r.y + "!" + r.z + "!" + s.x + "!" + s.y + "!" + s.z + "!" + sr_outer.color.r + "!" + sr_outer.color.g + "!" + sr_outer.color.b + "!" + sr_inner.color.r + "!" + sr_inner.color.g + "!" + sr_inner.color.b;
                    break;
                case "Claw":
                    GameObject go_claw_claw = go.transform.FindChild("Claw").gameObject;
                    GameObject go_claw_o = go.transform.FindChild("Box").gameObject;
                    GameObject go_claw_i = go_claw_o.transform.FindChild("Box Light").gameObject;
                    SpriteRenderer sr_claw = go_claw_claw.GetComponent<SpriteRenderer>();
                    SpriteRenderer sr_claw_o = go_claw_o.GetComponent<SpriteRenderer>();
                    SpriteRenderer sr_claw_i = go_claw_i.GetComponent<SpriteRenderer>();
                    SavePart = "CLAW!" + p.x + "!" + p.y + "!" + p.z + "!" + r.x + "!" + r.y + "!" + r.z + "!" + s.x + "!" + s.y + "!" + s.z + "!" + sr_claw.color.r + "!" + sr_claw.color.g + "!" + sr_claw.color.b + "!" + sr_claw_o.color.r + "!" + sr_claw_o.color.g + "!" + sr_claw_o.color.b + "!" + sr_claw_i.color.r + "!" + sr_claw_i.color.g + "!" + sr_claw_i.color.b;
                    break;
                case "Plank Red":
                    GameObject plank1 = go.transform.FindChild("Plank").gameObject;
                    SavePart = "PLANK_RED!" + p.x + "!" + p.y + "!" + p.z + "!" + r.x + "!" + r.y + "!" + r.z + "!" + s.x + "!" + s.y + "!" + s.z + "!" + plank1.transform.localScale.x;
                    break;
                case "Plank Blue":
                    GameObject plank2 = go.transform.FindChild("Plank").gameObject;
                    SavePart = "PLANK_BLUE!" + p.x + "!" + p.y + "!" + p.z + "!" + r.x + "!" + r.y + "!" + r.z + "!" + s.x + "!" + s.y + "!" + s.z + "!" + plank2.transform.localScale.x;
                    break;
                case "Door Red":
                    SavePart = "DOOR_RED!" + p.x + "!" + p.y + "!" + p.z + "!" + r.x + "!" + r.y + "!" + r.z + "!" + s.x + "!" + s.y + "!" + s.z;
                    break;
                case "Door Blue":
                    SavePart = "DOOR_BLUE!" + p.x + "!" + p.y + "!" + p.z + "!" + r.x + "!" + r.y + "!" + r.z + "!" + s.x + "!" + s.y + "!" + s.z;
                    break;
                case "Terrain":
                    SpriteRenderer sr_ter = go.GetComponent<SpriteRenderer>();
                    SavePart = "TERRAIN!" + p.x + "!" + p.y + "!" + p.z + "!" + r.x + "!" + r.y + "!" + r.z + "!" + s.x + "!" + s.y + "!" + s.z + "!" + sr_ter.color.r + "!" + sr_ter.color.g + "!" + sr_ter.color.b;
                    break;
                case "Background":
                    SpriteRenderer sr_bg = go.GetComponent<SpriteRenderer>();
                    SavePart = "BACKGROUND!" + p.x + "!" + p.y + "!" + p.z + "!" + r.x + "!" + r.y + "!" + r.z + "!" + s.x + "!" + s.y + "!" + s.z + "!" + sr_bg.color.r + "!" + sr_bg.color.g + "!" + sr_bg.color.b;
                    break;
                case "Level End":
                    SavePart = "LEVEL_END!" + p.x + "!" + p.y + "!" + p.z + "!" + r.x + "!" + r.y + "!" + r.z + "!" + s.x + "!" + s.y + "!" + s.z;
                    break;
                case "Text":
                    TextMesh tm = go.GetComponent<TextMesh>();
                    SavePart = "TEXT!" + p.x + "!" + p.y + "!" + p.z + "!" + r.x + "!" + r.y + "!" + r.z + "!" + s.x + "!" + s.y + "!" + s.z + "!" + tm.text.Replace('!', '§');
                    break;
            }
            if (SaveString == "")
            {
                SaveString = SavePart;
            }
            else
            {
                SaveString += "|" + SavePart;
            }
        }

        string fileName = "Level.txt";
        if (File.Exists(fileName))
        {
            Debug.Log(fileName + " already exists.");
            return;
        }
        var sr = File.CreateText(fileName);
        sr.WriteLine(SaveString);
        sr.Close();
    }

    public void SpawnLevel(string level)
    {
        string[] parts = level.Split('|');
        foreach (string part in parts)
        {
            string[] info = part.Split('!');
            if (info.Length > 0)
            {
                GameObject go = null;
                switch (info[0])
                {
                    case "BOX":
                    case "CLAW":
                    case "PLANK_RED":
                    case "PLANK_BLUE":
                    case "DOOR_RED":
                    case "DOOR_BLUE":
                    case "TEXT":
                    case "LEVEL_END":
                    case "TERRAIN":
                    case "BACKGROUND":
                        if (info[0] == "BOX")
                        {
                            go = Instantiate(PF_BOX);
                        }
                        else if (info[0] == "CLAW")
                        {
                            go = Instantiate(PF_CLAW);
                        }
                        else if (info[0] == "PLANK_RED")
                        {
                            go = Instantiate(PF_PLANK_RED);
                        }
                        else if (info[0] == "PLANK_BLUE")
                        {
                            go = Instantiate(PF_PLANK_BLUE);
                        }
                        else if (info[0] == "DOOR_BLUE")
                        {
                            go = Instantiate(PF_DOOR_BLUE);
                        }
                        else if (info[0] == "DOOR_RED")
                        {
                            go = Instantiate(PF_DOOR_RED);
                        }
                        else if (info[0] == "TEXT")
                        {
                            go = Instantiate(PF_TEXT);
                        }
                        else if (info[0] == "TERRAIN")
                        {
                            go = Instantiate(PF_TERRAIN);
                        }
                        else if (info[0] == "BACKGROUND")
                        {
                            go = Instantiate(PF_BACKGROUND);
                        }
                        else if (info[0] == "LEVEL_END")
                        {
                            go = Instantiate(PF_LEVEL_END);
                        }
                        else
                        {
                            go = Instantiate(PF_BOX);
                        }
                        float posx;
                        float posy;
                        float posz;
                        float rotx;
                        float roty;
                        float rotz;
                        float scalex;
                        float scaley;
                        float scalez;
                        if (!float.TryParse(info[1], out posx))
                        {
                            posx = 0;
                        }
                        if (!float.TryParse(info[2], out posy))
                        {
                            posy = 0;
                        }
                        if (!float.TryParse(info[3], out posz))
                        {
                            posz = 0;
                        }
                        if (!float.TryParse(info[4], out rotx))
                        {
                            rotx = 0;
                        }
                        if (!float.TryParse(info[5], out roty))
                        {
                            roty = 0;
                        }
                        if (!float.TryParse(info[6], out rotz))
                        {
                            rotz = 0;
                        }
                        if (!float.TryParse(info[7], out scalex))
                        {
                            scalex = 1;
                        }
                        if (!float.TryParse(info[8], out scaley))
                        {
                            scaley = 1;
                        }
                        if (!float.TryParse(info[9], out scalez))
                        {
                            scalez = 1;
                        }

                        go.transform.SetParent(TerrainPivot.transform);
                        go.transform.localPosition = new Vector3(posx, posy, posz);
                        go.transform.localRotation = Quaternion.Euler(rotx, roty, rotz);
                        go.transform.localScale = new Vector3(scalex, scaley, scalez);
                        break;
                }

                switch (info[0])
                {
                    case "PLANK_RED":
                    case "PLANK_BLUE":
                        if (go != null)
                        {
                            float length = 1;
                            if (!float.TryParse(info[10], out length))
                            {
                                length = 1;
                            }
                            GameObject plank = go.transform.FindChild("Plank").gameObject;
                            GameObject goleftclaw = go.transform.FindChild("Claw Left").gameObject;
                            GameObject gorightclaw = go.transform.FindChild("Claw Right").gameObject;
                            plank.transform.localScale = new Vector3(length, 0.1681681f, 0);
                            goleftclaw.transform.localPosition = new Vector3(-0.3845912f * length, 3.54f, -1);
                            gorightclaw.transform.localPosition = new Vector3(0.3845912f * length, 3.54f, -1);
                        }
                        break;
                    case "TEXT":
                        if (go != null)
                        {
                            TextMesh tm = go.GetComponent<TextMesh>();
                            tm.text = info[10].Replace('§', '!');
                        }
                        break;
                    case "BOX":

                        float r1 = 0;
                        if (!float.TryParse(info[10], out r1))
                        {
                            r1 = 1f;
                        }
                        float g1 = 0;
                        if (!float.TryParse(info[11], out g1))
                        {
                            g1 = 1f;
                        }
                        float b1 = 0;
                        if (!float.TryParse(info[12], out b1))
                        {
                            b1 = 1f;
                        }
                        float r2 = 0;
                        if (!float.TryParse(info[13], out r2))
                        {
                            r2 = 1f;
                        }
                        float g2 = 0;
                        if (!float.TryParse(info[14], out g2))
                        {
                            g2 = 1f;
                        }
                        float b2 = 0;
                        if (!float.TryParse(info[15], out b2))
                        {
                            b2 = 1f;
                        }

                        Color c1 = new Color();
                        c1.r = r1;
                        c1.g = g1;
                        c1.b = b1;
                        c1.a = 1;
                        Color c2 = new Color();
                        c2.r = r2;
                        c2.g = g2;
                        c2.b = b2;
                        c2.a = 1;

                        GameObject go_box_light = go.transform.FindChild("Box Light").gameObject;
                        SpriteRenderer sr_outer = go.GetComponent<SpriteRenderer>();
                        SpriteRenderer sr_inner = go_box_light.GetComponent<SpriteRenderer>();

                        sr_outer.color = c1;
                        sr_inner.color = c2;

                        break;
                    case "CLAW":
                        float cr1 = 0;
                        if (!float.TryParse(info[10], out cr1))
                        {
                            cr1 = 1f;
                        }
                        float cg1 = 0;
                        if (!float.TryParse(info[11], out cg1))
                        {
                            cg1 = 1f;
                        }
                        float cb1 = 0;
                        if (!float.TryParse(info[12], out cb1))
                        {
                            cb1 = 1f;
                        }
                        float cr2 = 0;
                        if (!float.TryParse(info[13], out cr2))
                        {
                            cr2 = 1f;
                        }
                        float cg2 = 0;
                        if (!float.TryParse(info[14], out cg2))
                        {
                            cg2 = 1f;
                        }
                        float cb2 = 0;
                        if (!float.TryParse(info[15], out cb2))
                        {
                            cb2 = 1f;
                        }
                        float cr3 = 0;
                        if (!float.TryParse(info[16], out cr3))
                        {
                            cr3 = 1f;
                        }
                        float cg3 = 0;
                        if (!float.TryParse(info[17], out cg3))
                        {
                            cg3 = 1f;
                        }
                        float cb3 = 0;
                        if (!float.TryParse(info[18], out cb3))
                        {
                            cb3 = 1f;
                        }

                        Color cc1 = new Color();
                        cc1.r = cr1;
                        cc1.g = cg1;
                        cc1.b = cb1;
                        cc1.a = 1;
                        Color cc2 = new Color();
                        cc2.r = cr2;
                        cc2.g = cg2;
                        cc2.b = cb2;
                        cc2.a = 1;
                        Color cc3 = new Color();
                        cc3.r = cr3;
                        cc3.g = cg3;
                        cc3.b = cb3;
                        cc3.a = 1;

                        GameObject go_claw_claw = go.transform.FindChild("Claw").gameObject;
                        GameObject go_claw_o = go.transform.FindChild("Box").gameObject;
                        GameObject go_claw_i = go_claw_o.transform.FindChild("Box Light").gameObject;
                        SpriteRenderer sr_claw = go_claw_claw.GetComponent<SpriteRenderer>();
                        SpriteRenderer sr_claw_o = go_claw_o.GetComponent<SpriteRenderer>();
                        SpriteRenderer sr_claw_i = go_claw_i.GetComponent<SpriteRenderer>();
                        break;
                    case "TERRAIN":
                    case "BACKGROUND":
                        float tr1 = 0;
                        if (!float.TryParse(info[10], out tr1))
                        {
                            tr1 = 1f;
                        }
                        float tg1 = 0;
                        if (!float.TryParse(info[11], out tg1))
                        {
                            tg1 = 1f;
                        }
                        float tb1 = 0;
                        if (!float.TryParse(info[12], out tb1))
                        {
                            tb1 = 1f;
                        }
                        
                        Color tc1 = new Color();
                        tc1.r = tr1;
                        tc1.g = tg1;
                        tc1.b = tb1;
                        tc1.a = 1;
                        
                        SpriteRenderer sr_t = go.GetComponent<SpriteRenderer>();
                        sr_t.color = tc1;
                        break;
                }
            }
        }
    }
}
